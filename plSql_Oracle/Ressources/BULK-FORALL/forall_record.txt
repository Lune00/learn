drop table test;
create table test(a number(8), B varchar2(20));
truncate table test;
alter system flush shared_pool;
alter system flush buffer_cache;

Declare
    type t1 is record (num number(8),nom varchar2(20));
    type t_rec is table of t1 index by binary_integer;
    v1	 t_rec;
    TEMPS1  number ;
    TEMPS2  number ;
    begin
     
      FOR i in 1..3000000 loop
         v1(i).num:=i;
	 v1(i).nom:='NOM'||i;
      end loop;

      Select to_char( sysdate, 'SSSSS' ) into TEMPS1 from dual ;
   
      Forall i in 1..3000000
         Insert into TEST( A, B ) Values( v1(i).num, v1(i).nom ) ;
      
     Select to_char( sysdate, 'SSSSS' ) into TEMPS2 from dual ;
      
      dbms_output.put_line( 'Temps d''exécution en secondes' ) ;
      dbms_output.put_line( 'Forall ' || to_char(TEMPS2 - TEMPS1) ) ;        
   End ;    
   /

Declare
    type t1 is record (num number(8),nom varchar2(20));
    type t_rec is table of t1 index by binary_integer;
    v1	 t_rec;
    TEMPS1  number ;
    TEMPS2  number ;
    begin
     
      FOR i in 1..3000000 loop
         v1(i).num:=i;
	 v1(i).nom:='NOM'||i;
      end loop;

      Select to_char( sysdate, 'SSSSS' ) into TEMPS1 from dual ;
   
      For i in 1..3000000 loop
         Insert into TEST( A, B ) Values( v1(i).num, v1(i).nom ) ;
      end loop;
     Select to_char( sysdate, 'SSSSS' ) into TEMPS2 from dual ;
      
      dbms_output.put_line( 'Temps d''exécution en secondes' ) ;
      dbms_output.put_line( 'Forall ' || to_char(TEMPS2 - TEMPS1) ) ;        
   End ;    
   /
